/* Copyright (c) 2010 Baidu  Licensed under the BSD License */
var T,baidu=T=baidu||{version:"1.3.9"};baidu.guid="$BAIDU$";window[baidu.guid]=window[baidu.guid]||{};baidu.ui=baidu.ui||{version:"1.3.9"};baidu.ui.getUI=function(c){var c=c.split("-"),b=baidu.ui,a=c.length,d=0;for(;d<a;d++){b=b[c[d].charAt(0).toUpperCase()+c[d].slice(1)]}return b};baidu.lang=baidu.lang||{};baidu.lang.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)};baidu.isString=baidu.lang.isString;baidu.ui.create=function(b,a){if(baidu.lang.isString(b)){b=baidu.ui.getUI(b)}return new b(a)};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a&&a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu.g=baidu.G=baidu.dom.g;(function(){var a=window[baidu.guid];baidu.lang.guid=function(){return"TANGRAM__"+(a._counter++).toString(36)};a._counter=a._counter||1})();window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.lang.Class=function(a){this.guid=a||baidu.lang.guid();window[baidu.guid]._instances[this.guid]=this};window[baidu.guid]._instances=window[baidu.guid]._instances||{};baidu.lang.Class.prototype.dispose=function(){delete window[baidu.guid]._instances[this.guid];for(var a in this){if(!baidu.lang.isFunction(this[a])){delete this[a]}}this.disposed=true};baidu.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"};baidu.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu.lang.Class.prototype.addEventListener=function(d,c,b){if(!baidu.lang.isFunction(c)){return}!this.__listeners&&(this.__listeners={});var a=this.__listeners,e;if(typeof b=="string"&&b){if(/[^\w\-]/.test(b)){throw ("nonstandard key:"+b)}else{c.hashCode=b;e=b}}d.indexOf("on")!=0&&(d="on"+d);typeof a[d]!="object"&&(a[d]={});e=e||baidu.lang.guid();c.hashCode=e;a[d][e]=c};baidu.lang.Class.prototype.removeEventListener=function(d,c){if(typeof c!="undefined"){if((baidu.lang.isFunction(c)&&!(c=c.hashCode))||(!baidu.lang.isString(c))){return}}!this.__listeners&&(this.__listeners={});d.indexOf("on")!=0&&(d="on"+d);var b=this.__listeners;if(!b[d]){return}if(typeof c!="undefined"){b[d][c]&&delete b[d][c]}else{for(var a in b[d]){delete b[d][a]}}};baidu.lang.Class.prototype.dispatchEvent=function(d,a){if(baidu.lang.isString(d)){d=new baidu.lang.Event(d)}!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){d[c]=a[c]}var c,b=this.__listeners,e=d.type;d.target=d.target||this;d.currentTarget=this;e.indexOf("on")!=0&&(e="on"+e);baidu.lang.isFunction(this[e])&&this[e].apply(this,arguments);if(typeof b[e]=="object"){for(c in b[e]){b[e][c].apply(this,arguments)}}return d.returnValue};baidu.event=baidu.event||{};baidu.event._listeners=baidu.event._listeners||[];baidu.dom._g=function(a){if(baidu.lang.isString(a)){return document.getElementById(a)}return a};baidu._g=baidu.dom._g;baidu.event.on=function(b,e,g){e=e.replace(/^on/i,"");b=baidu.dom._g(b);var f=function(i){g.call(b,i)},a=baidu.event._listeners,d=baidu.event._eventFilter,h,c=e;e=e.toLowerCase();if(d&&d[e]){h=d[e](b,e,f);c=h.type;f=h.listener}if(b.addEventListener){b.addEventListener(c,f,false)}else{if(b.attachEvent){b.attachEvent("on"+c,f)}}a[a.length]=[b,e,g,f,c];return b};baidu.on=baidu.event.on;baidu.event.un=function(c,f,b){c=baidu.dom._g(c);f=f.replace(/^on/i,"").toLowerCase();var i=baidu.event._listeners,d=i.length,e=!b,h,g,a;while(d--){h=i[d];if(h[1]===f&&h[0]===c&&(e||h[2]===b)){g=h[4];a=h[3];if(c.removeEventListener){c.removeEventListener(g,a,false)}else{if(c.detachEvent){c.detachEvent("on"+g,a)}}i.splice(d,1)}}return c};baidu.un=baidu.event.un;baidu.ui.Base={id:"",getId:function(a){var c=this,b;b="tangram-"+c.uiType+"--"+(c.id?c.id:c.guid);return a?b+"-"+a:b},getClass:function(b){var d=this,c=d.classPrefix,a=d.skin;if(b){c+="-"+b;a+="-"+b}if(d.skin){c+=" "+a}return c},getMain:function(){return baidu.g(this.mainId)},getBody:function(){return baidu.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(d){var c=0,b=Array.prototype.slice.call(arguments,1),a=b.length;for(;c<a;c++){if(typeof b[c]=="string"){b[c]="'"+b[c]+"'"}}return this.getCallRef()+"."+d+"("+b.join(",")+");"},on:function(a,b,c){baidu.on(a,b,c);this.addEventListener("ondispose",function(){baidu.un(a,b,c)})},renderMain:function(b){var d=this,c=0,a;if(d.getMain()){return}b=baidu.g(b);if(!b){b=document.createElement("div");document.body.appendChild(b);b.style.position="absolute";b.className=d.getClass("main")}if(!b.id){b.id=d.getId("main")}d.mainId=b.id;b.setAttribute("data-guid",d.guid);return b},dispose:function(){this.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(this)}};baidu.object=baidu.object||{};baidu.extend=baidu.object.extend=function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c};baidu.ui.createUI=function(c,j){j=j||{};var g=j.superClass||baidu.lang.Class,f=g==baidu.lang.Class?1:0,d,b,h=function(k,i){var l=this;k=k||{};g.call(l,!f?k:(k.guid||""),true);baidu.object.extend(l,h.options);baidu.object.extend(l,k);l.classPrefix=l.classPrefix||"tangram-"+l.uiType.toLowerCase();for(d in baidu.ui.behavior){if(typeof l[d]!="undefined"&&l[d]){baidu.object.extend(l,baidu.ui.behavior[d]);if(baidu.lang.isFunction(l[d])){l.addEventListener("onload",function(){baidu.ui.behavior[d].call(l[d].apply(l))})}else{baidu.ui.behavior[d].call(l)}}}c.apply(l,arguments);for(d=0,b=h._addons.length;d<b;d++){h._addons[d](l)}if(k.parent&&l.setParent){l.setParent(k.parent)}if(!i&&k.autoRender){l.render(k.element)}},a=function(){};a.prototype=g.prototype;var e=h.prototype=new a();for(d in baidu.ui.Base){e[d]=baidu.ui.Base[d]}h.extend=function(i){for(d in i){h.prototype[d]=i[d]}return h};h._addons=[];h.register=function(i){if(typeof i=="function"){h._addons.push(i)}};h.options={};return h};baidu.browser=baidu.browser||{};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){baidu.browser.ie=baidu.ie=document.documentMode||+RegExp["\x241"]}baidu.dom.insertHTML=function(d,a,c){d=baidu.dom.g(d);var b,e;if(d.insertAdjacentHTML){d.insertAdjacentHTML(a,c)}else{b=d.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(d);b.collapse(a=="AFTERBEGIN")}else{e=a=="BEFOREBEGIN";b[e?"setStartBefore":"setEndAfter"](d);b.collapse(e)}b.insertNode(b.createContextualFragment(c))}return d};baidu.insertHTML=baidu.dom.insertHTML;baidu.string=baidu.string||{};baidu.string.format=function(c,a){c=String(c);var b=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c};baidu.format=baidu.string.format;baidu.array=baidu.array||{};baidu.each=baidu.array.forEach=baidu.array.each=function(g,e,b){var d,f,c,a=g.length;if("function"==typeof e){for(c=0;c<a;c++){f=g[c];d=e.call(b||g,f,c);if(d===false){break}}}return g};baidu.array.indexOf=function(e,b,d){var a=e.length,c=b;d=d|0;if(d<0){d=Math.max(0,a+d)}for(;d<a;d++){if(d in e&&e[d]===b){return d}}return -1};baidu.array.find=function(e,c){var d,b,a=e.length;if("function"==typeof c){for(b=0;b<a;b++){d=e[b];if(true===c.call(e,d,b)){return d}}}return null};baidu.dom.remove=function(a){a=baidu.dom._g(a);var b=a.parentNode;b&&b.removeChild(a)};baidu.dom.children=function(b){b=baidu.dom.g(b);for(var a=[],c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.push(c)}}return a};baidu.dom.getDocument=function(a){a=baidu.dom.g(a);return a.nodeType==9?a:a.ownerDocument||a.document};baidu.dom.getComputedStyle=function(b,a){b=baidu.dom._g(b);var d=baidu.dom.getDocument(b),c;if(d.defaultView&&d.defaultView.getComputedStyle){c=d.defaultView.getComputedStyle(b,null);if(c){return c[a]||c.getPropertyValue(a)}}return""};baidu.dom._styleFixer=baidu.dom._styleFixer||{};baidu.dom._styleFilter=baidu.dom._styleFilter||[];baidu.dom._styleFilter.filter=function(b,e,f){for(var a=0,d=baidu.dom._styleFilter,c;c=d[a];a++){if(c=c[f]){e=c(b,e)}}return e};baidu.string.toCamelCase=function(a){if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})};baidu.dom.getStyle=function(c,b){var e=baidu.dom;c=e.g(c);b=baidu.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||e.getComputedStyle(c,b);if(!d){var a=e._styleFixer[b];if(a){d=a.get?a.get(c):baidu.dom.getStyle(c,a)}}if(a=e._styleFilter){d=a.filter(b,d,"get")}return d};baidu.getStyle=baidu.dom.getStyle;baidu.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu.browser.ie<8){a["for"]="htmlFor";a["class"]="className"}else{a.htmlFor="for";a.className="class"}return a})();baidu.dom.setAttr=function(b,a,c){b=baidu.dom.g(b);if("style"==a){b.style.cssText=c}else{a=baidu.dom._NAME_ATTRS[a]||a;b.setAttribute(a,c)}return b};baidu.setAttr=baidu.dom.setAttr;baidu.dom.setAttrs=function(c,a){c=baidu.dom.g(c);for(var b in a){baidu.dom.setAttr(c,b,a[b])}return c};baidu.setAttrs=baidu.dom.setAttrs;baidu.dom.create=function(c,a){var d=document.createElement(c),b=a||{};return baidu.dom.setAttrs(d,b)};(function(){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");baidu.string.trim=function(b){return String(b).replace(a,"")}})();baidu.trim=baidu.string.trim;baidu.dom.addClass=function(f,g){f=baidu.dom.g(f);var b=g.split(/\s+/),a=f.className,e=" "+a+" ",d=0,c=b.length;for(;d<c;d++){if(e.indexOf(" "+b[d]+" ")<0){a+=(a?" ":"")+b[d]}}f.className=a;return f};baidu.addClass=baidu.dom.addClass;baidu.dom.removeClass=function(f,g){f=baidu.dom.g(f);var d=f.className.split(/\s+/),h=g.split(/\s+/),b,a=h.length,c,e=0;for(;e<a;++e){for(c=0,b=d.length;c<b;++c){if(d[c]==h[e]){d.splice(c,1);break}}}f.className=d.join(" ");return f};baidu.removeClass=baidu.dom.removeClass;baidu.fn=baidu.fn||{};baidu.fn.bind=function(b,a){var c=arguments.length>2?[].slice.call(arguments,2):null;return function(){var e=baidu.lang.isString(b)?a[b]:b,d=(c)?c.concat([].slice.call(arguments,0)):arguments;return e.apply(a||e,d)}};baidu.object.each=function(e,c){var b,a,d;if("function"==typeof c){for(a in e){if(e.hasOwnProperty(a)){d=e[a];b=c.call(e,d,a);if(b===false){break}}}}return e};baidu.ui.Carousel=baidu.ui.createUI(function(a){var b=this,c=b.contentText||[];b._dataList=c.slice(0,c.length);b._itemIds=[];b._items={};baidu.array.each(b._dataList,function(d){b._itemIds.push(baidu.lang.guid())});b.flip=b.flip.toLowerCase();b.orientation=b.orientation.toLowerCase()}).extend({uiType:"carousel",orientation:"horizontal",flip:"item",pageSize:3,scrollIndex:0,_axis:{horizontal:{vector:"_boundX",pos:"left",size:"width",offset:"offsetWidth",client:"clientWidth",scrollPos:"scrollLeft"},vertical:{vector:"_boundY",pos:"top",size:"height",offset:"offsetHeight",client:"clientHeight",scrollPos:"scrollTop"}},getString:function(){var b=this,a='<div id="#{id}" class="#{class}">#{content}</div>',c=baidu.string.format(a,{id:b.getId("scroll"),"class":b.getClass("scroll")});return baidu.string.format(a,{id:b.getId(),"class":b.getClass(),content:c})},render:function(b){var a=this;if(!b||a.getMain()){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a._renderItems();a._resizeView();a._moveToMiddle();a.focus(a.scrollIndex);a.addEventListener("onbeforeendscroll",function(d){var c=a.orientation=="horizontal",e=a._axis[a.orientation],f=a.getScrollContainer();a._renderItems(d.index,d.scrollOffset);f.style[e.size]=parseInt(f.style[e.size])-a["_bound"+(c?"X":"Y")].offset*d.scrollUnit+"px";a._moveToMiddle();a._scrolling=false});a.dispatchEvent("onload")},_renderItems:function(a,g){var e=this,f=e.getScrollContainer(),a=Math.min(Math.max(a|0,0),e._dataList.length-1),g=Math.min(Math.max(g|0,0),e.pageSize-1),d=e.pageSize,b=0,c;while(f.firstChild){baidu.dom.remove(f.firstChild)}for(;b<d;b++){c=e._getItemElement(a-g+b);f.appendChild(c.element);c.setContent()}},_moveToMiddle:function(){if(!this._boundX){return}var b=this,a=b._axis[b.orientation];b.getBody()[a.scrollPos]=b.orientation=="horizontal"&&baidu.browser.ie==6?b._boundX.marginX:0},_resizeView:function(){if(this._dataList.length<=0){return}var e=this,d=e._axis[e.orientation],b=e.orientation=="horizontal",f=e.getScrollContainer(),h=baidu.dom.children(f),a,g;function c(m,l){var l=l=="x",k=m[l?"offsetWidth":"offsetHeight"],j=parseInt(baidu.dom.getStyle(m,l?"marginLeft":"marginTop")),i=parseInt(baidu.dom.getStyle(m,l?"marginRight":"marginBottom"));isNaN(j)&&(j=0);isNaN(i)&&(i=0);return{offset:k+(b?j+i:Math.max(j,i)),marginX:j,marginY:i}}e._boundX=a=c(h[0],"x");e._boundY=g=c(h[0],"y");f.style.width=a.offset*(b?h.length:1)+(baidu.browser.ie==6?a.marginX:0)+"px";f.style.height=g.offset*(b?1:h.length)+(b?0:g.marginX)+"px";e.getBody().style[d.size]=e[d.vector].offset*e.pageSize+(b?0:Math.min(e[d.vector].marginX,e[d.vector].marginY))+"px"},_baseItemElement:function(b){var e=this,f=e._itemIds[b],d=e._items[f]||{},a=e._dataList[b],c;if(!d.element){d.element=c=baidu.dom.create("div",{id:f||"","class":e.getClass("item")});!f&&baidu.dom.addClass(c,e.getClass("item-empty"));d.content=a?a.content:"";if(f){d.handler=[{evtName:"click",handler:baidu.fn.bind("_onItemClickHandler",e,c)},{evtName:"mouseover",handler:baidu.fn.bind("_onMouseHandler",e,"mouseover")},{evtName:"mouseout",handler:baidu.fn.bind("_onMouseHandler",e,"mouseout")}];baidu.array.each(d.handler,function(g){baidu.event.on(c,g.evtName,g.handler)});e._items[f]=d}d.setContent=function(){this.content&&(this.element.innerHTML=this.content);this.content&&(delete this.content)}}return d},_getItemElement:function(a){return this._baseItemElement(a)},_onItemClickHandler:function(c,a){var b=this;b.focus(baidu.array.indexOf(b._itemIds,c.id));b.dispatchEvent("onitemclick")},_onMouseHandler:function(b,a){this.dispatchEvent("on"+b)},getCurrentIndex:function(){return this.scrollIndex},getTotalCount:function(){return this._dataList.length},getItem:function(a){return baidu.dom.g(this._itemIds[a])},scrollTo:function(j,f,n){var m=this,d=m._axis[m.orientation],f=Math.min(Math.max(f|0,0),m.pageSize-1),l=m.getScrollContainer(),b=baidu.dom.children(l),r=m.getItem(j),q=n,a=baidu.array.indexOf(b,r)-f,h=Math.abs(a),g=m._dataList.length,e=0,k,p,c,o;if((r&&a==0)||m._dataList.length<=0||j<0||j>m._dataList.length-1||m._scrolling){return}if(!q){q=r?(a<0?"prev":(a>0?"next":"keep")):baidu.array.indexOf(m._itemIds,baidu.array.find(b,function(i){return !!i.id}).id)>j?"prev":"next"}c=q=="prev";if(!r){p=baidu.array.indexOf(m._itemIds,b[c?0:b.length-1].id);h=Math.abs(f-(c?0:m.pageSize-1))+((c?p:j)+g-(c?j:p))%g;h>m.pageSize&&(h=m.pageSize)}k=h>0&&document.createDocumentFragment();for(;e<h;e++){o=m._getItemElement(c?j-f+e:m.pageSize+j+e-(r&&!n?baidu.array.indexOf(b,r):f+h));k.appendChild(o.element);o.setContent()}c?l.insertBefore(k,b[0]):l.appendChild(k);a=m[d.vector].offset*h;l.style[d.size]=parseInt(l.style[d.size])+a+"px";c&&(m.getBody()[d.scrollPos]+=a);m._scrolling=true;if(m.dispatchEvent("onbeforescroll",{index:j,scrollOffset:f,direction:q,scrollUnit:h})){m.getBody()[d.scrollPos]+=h*m[d.vector].offset*(c?-1:1);m.dispatchEvent("onbeforeendscroll",{index:j,scrollOffset:f,direction:q,scrollUnit:h});m.dispatchEvent("onafterscroll",{index:j,scrollOffset:f,direction:q,scrollUnit:h})}},_getFlipIndex:function(c){var d=this,a=d.flip=="item",c=c=="prev",f=d.scrollIndex,b=f+(a?1:d.pageSize)*(c?-1:1),e=a?(c?0:d.pageSize-1):baidu.array.indexOf(baidu.dom.children(d.getScrollContainer()),d.getItem(f));if(!a&&(b<0||b>d._dataList.length-1)){b=f-e+(c?-1:d.pageSize);e=c?d.pageSize-1:0}return{index:b,scrollOffset:e}},_baseSlide:function(b){if(!this.getItem(this.scrollIndex)){return}var c=this,e=c.getScrollContainer(),d=c._getFlipIndex(b);if(d.index<0||d.index>c._dataList.length-1){return}function a(f,h,g){c.addEventListener("onbeforeendscroll",function(i){var j=i.target;j.focus(i.index);j.removeEventListener("onbeforeendscroll",arguments.callee)});c.scrollTo(f,h,g)}if(c.flip=="item"){c.getItem(d.index)?c.focus(d.index):a(d.index,d.scrollOffset,b)}else{c._itemIds[d.index]&&a(d.index,d.scrollOffset,b)}},prev:function(){var a=this;a._baseSlide("prev");a.dispatchEvent("onprev")},next:function(){var a=this;a._baseSlide("next");a.dispatchEvent("onnext")},isFirst:function(){var a=this._getFlipIndex("prev");return a.index<0},isLast:function(){var a=this._getFlipIndex("next");return a.index>=this._dataList.length},_blur:function(){var a=this,b=a._itemIds[a.scrollIndex];if(b){baidu.dom.removeClass(a._baseItemElement(a.scrollIndex).element,a.getClass("item-focus"));a.scrollIndex=-1}},focus:function(a){var c=this,d=c._itemIds[a],b=d&&c._baseItemElement(a);if(d){c._blur();baidu.dom.addClass(b.element,c.getClass("item-focus"));c.scrollIndex=a}},getScrollContainer:function(){return baidu.dom.g(this.getId("scroll"))},dispose:function(){var a=this;a.dispatchEvent("ondispose");baidu.object.each(a._items,function(b){b.handler&&baidu.array.each(b.handler,function(c){baidu.event.un(b.element,c.evtName,c.handler)})});baidu.dom.remove(a.getMain());baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Carousel.register(function(a){if(!a.isCycle){return}a._itemsPool={};a._getItemElement=function(b){var e=this,d=e._dataList.length,b=(b+d)%d,f=e._itemIds[b],c=baidu.dom.g(f)?e._itemsPool[f+"-buff"]:e._baseItemElement(b);if(!c){c=e._itemsPool[f+"-buff"]={element:baidu.dom.create("div",{id:f+"-buff","class":e.getClass("item")}),content:e._dataList[b].content,setContent:function(){this.content&&(this.element.innerHTML=this.content);this.content&&(delete this.content)}}}return c};a._getFlipIndex=function(c){var f=this,e=f.flip=="item",c=c=="prev",h=f.scrollIndex,b=h+(e?1:f.pageSize)*(c?-1:1),g=e?(c?0:f.pageSize-1):baidu.array.indexOf(baidu.dom.children(f.getScrollContainer()),f.getItem(h)),d=f._dataList.length;return{index:(b+d)%d,scrollOffset:g}};a.addEventListener("onremoveitem",function(b){delete this._itemsPool[b.id+"-buff"]})});baidu.ui.Carousel.prototype.isCycle=true;baidu.lang.Class.prototype.addEventListeners=function(c,d){if(typeof d=="undefined"){for(var b in c){this.addEventListener(b,c[b])}}else{c=c.split(",");var b=0,a=c.length,e;for(;b<a;b++){this.addEventListener(baidu.trim(c[b]),d)}}};baidu.ui.Carousel.register(function(b){if(!b.isAutoScroll){return}var a=b._getAutoScrollDirection();b.addEventListeners("onprev,onnext",function(){clearTimeout(b._autoScrollTimeout);b._autoScrollTimeout=setTimeout(function(){if(b._autoScrolling){b[a]();b.dispatchEvent("onautoscroll",{direction:a})}},b.scrollInterval)});b.addEventListener("onload",function(c){var d=c.target;setTimeout(function(){d.startAutoScroll()},d.scrollInterval)});b.addEventListener("ondispose",function(c){clearTimeout(c.target._autoScrollTimeout)})});baidu.ui.Carousel.extend({isAutoScroll:true,scrollInterval:1000,direction:"right",_autoScrolling:true,_getAutoScrollDirection:function(){var b=this,a={up:"prev",right:"next",down:"next",left:"prev"};return a[b.direction.toLowerCase()]||a[b.orientation=="horizontal"?"right":"down"]},startAutoScroll:function(){var a=this,b=a._getAutoScrollDirection();a._autoScrolling=true;a[b]();a.dispatchEvent("onautoscroll",{direction:b})},stopAutoScroll:function(){var a=this;clearTimeout(a._autoScrollTimeout);a._autoScrolling=false}});baidu.ui.Carousel.register(function(a){if(!a.showButton){return}a.btnLabel=baidu.object.extend({prev:"&lt;",next:"&gt;"},a.btnLabel);a.addEventListener("onload",function(){baidu.dom.insertHTML(a.getMain(),"afterBegin",baidu.string.format(a.tplBtn,{"class":a.getClass("btn-base")+" "+a.getClass("btn-prev"),handler:a.getCallString("prev"),content:a.btnLabel.prev}));baidu.dom.insertHTML(a.getMain(),"beforeEnd",baidu.string.format(a.tplBtn,{"class":a.getClass("btn-base")+" "+a.getClass("btn-next"),handler:a.getCallString("next"),content:a.btnLabel.next}))})});baidu.object.extend(baidu.ui.Carousel.prototype,{showButton:true,tplBtn:'<a class="#{class}" onclick="#{handler}" href="javascript:void(0);">#{content}</a>'});baidu.fx=baidu.fx||{};baidu.lang.createClass=function(f,b){b=b||{};var e=b.superClass||baidu.lang.Class;var d=function(){if(e!=baidu.lang.Class){e.apply(this,arguments)}else{e.call(this)}f.apply(this,arguments)};d.options=b.options||{};var h=function(){},g=f.prototype;h.prototype=e.prototype;var a=d.prototype=new h();for(var c in g){a[c]=g[c]}typeof b.className=="string"&&(a._className=b.className);a.constructor=g.constructor;d.extend=function(k){for(var j in k){d.prototype[j]=k[j]}return d};return d};baidu.fx.Timeline=baidu.lang.createClass(function(a){baidu.object.extend(this,baidu.fx.Timeline.options);baidu.object.extend(this,a)},{className:"baidu.fx.Timeline",options:{interval:16,duration:500,dynamic:true}}).extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu.fx.create=function(d,b,c){var e=new baidu.fx.Timeline(b);e.element=d;e._className=c||e._className;e["\x06original"]={};var a="baidu_current_effect";e.addEventListener("onbeforestart",function(){var g=this,f;g.attribName="att_"+g._className.replace(/\W/g,"_");f=g.element.getAttribute(a);g.element.setAttribute(a,(f||"")+"|"+g.guid+"|",0);if(!g.overlapping){(f=g.element.getAttribute(g.attribName))&&window[baidu.guid]._instances[f].cancel();g.element.setAttribute(g.attribName,g.guid,0)}});e["\x06clean"]=function(h){var g=this,f;if(h=g.element){h.removeAttribute(g.attribName);f=h.getAttribute(a);f=f.replace("|"+g.guid+"|","");if(!f){h.removeAttribute(a)}else{h.setAttribute(a,f,0)}}};e.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});e.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});e.protect=function(f){this["\x06original"][f]=this.element.style[f]};e["\x06restore"]=function(){var j=this["\x06original"],h=this.element.style,f;for(var g in j){f=j[g];if(typeof f=="undefined"){continue}h[g]=f;if(!f&&h.removeAttribute){h.removeAttribute(g)}else{if(!f&&h.removeProperty){h.removeProperty(g)}}}};return e};baidu.fx.scrollBy=function(b,g,a){if(!(b=baidu.dom.g(b))||typeof g!="object"){return null}var f={},e={};f.x=g[0]||g.x||0;f.y=g[1]||g.y||0;var c=baidu.fx.create(b,baidu.object.extend({initialize:function(){var h=e.sTop=b.scrollTop;var d=e.sLeft=b.scrollLeft;e.sx=Math.min(b.scrollWidth-b.clientWidth-d,f.x);e.sy=Math.min(b.scrollHeight-b.clientHeight-h,f.y)},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.scrollTop=(e.sy*d+e.sTop);b.scrollLeft=(e.sx*d+e.sLeft)},restore:function(){b.scrollTop=e.sTop;b.scrollLeft=e.sLeft}},a),"baidu.fx.scroll");return c.launch()};baidu.fx.scrollTo=function(c,a,b){if(!(c=baidu.dom.g(c))||typeof a!="object"){return null}var e={};e.x=(a[0]||a.x||0)-c.scrollLeft;e.y=(a[1]||a.y||0)-c.scrollTop;return baidu.fx.scrollBy(c,e,b)};baidu.fx.current=function(d){if(!(d=baidu.dom.g(d))){return null}var b,f,e=/\|([^\|]+)\|/g;do{if(f=d.getAttribute("baidu_current_effect")){break}}while((d=d.parentNode)&&d.nodeType==1);if(!f){return null}if((b=f.match(e))){e=/\|([^\|]+)\|/;for(var c=0;c<b.length;c++){e.test(b[c]);b[c]=window[baidu.guid]._instances[RegExp["\x241"]]}}return b};baidu.ui.Carousel.register(function(a){if(!a.enableFx){return}a.addEventListener("onbeforescroll",function(c){if(baidu.fx.current(a.getBody())){return}var e=c.direction=="prev",d=a._axis[a.orientation],b=a.orientation=="horizontal",f=a.getBody()[d.scrollPos]+c.scrollUnit*a[d.vector].offset*(e?-1:1);a.scrollFxOptions=baidu.object.extend(a.scrollFxOptions,{carousel:a,index:c.index,scrollOffset:c.scrollOffset,direction:c.direction,scrollUnit:c.scrollUnit});baidu.lang.isFunction(a.scrollFx)&&a.scrollFx(a.getBody(),{x:b?f:0,y:b?0:f},a.scrollFxOptions);c.returnValue=false})});baidu.ui.Carousel.extend({enableFx:true,scrollFx:baidu.fx.scrollTo,scrollFxOptions:{duration:500,onbeforestart:function(a){var b=a.target;a.target.carousel.dispatchEvent("onbeforestartscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit})},onafterfinish:function(a){var b=a.target;b.carousel.dispatchEvent("onbeforeendscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit});b.carousel.dispatchEvent("onafterscroll",{index:b.index,scrollOffset:b.scrollOffset,direction:b.direction,scrollUnit:b.scrollUnit})}}});baidu.lang.isNumber=function(a){return"[object Number]"==Object.prototype.toString.call(a)&&isFinite(a)};baidu.ui.Carousel.extend({_addText:function(f,b){var e=this,g=baidu.dom.children(e.getScrollContainer()),b=Math.min(Math.max(baidu.lang.isNumber(b)?b:e._dataList.length,0),e._dataList.length),d=e.getItem(e.scrollIndex),a=baidu.array.indexOf(e._itemIds,g[0].id),c;e._dataList.splice(b,0,{content:f});e._itemIds.splice(b,0,baidu.lang.guid());b<=e.scrollIndex&&e.scrollIndex++;c=d?e.scrollIndex:baidu.array.indexOf(e._itemIds,g[0].id);b>=a&&b<=a+e.pageSize-1&&e._renderItems(c,baidu.array.indexOf(g,e.getItem(c)))},_removeItem:function(e){if(!baidu.lang.isNumber(e)||e<0||e>this._dataList.length-1){return}var f=this,i=f.getItem(e),b=f.getItem(f.scrollIndex),g=f._itemIds[e],j=f._items[g],c=baidu.dom.children(f.getScrollContainer()),a=f.scrollIndex,h,d;j&&baidu.array.each(j.handler,function(k){baidu.event.un(j.element,k.evtName,k.handler)});delete f._items[g];f._dataList.splice(e,1);f._itemIds.splice(e,1);(f.scrollIndex>f._dataList.length-1||f.scrollIndex>e)&&f.scrollIndex--;if(i){e==a&&f.focus(f.scrollIndex);h=b?f.scrollIndex:baidu.array.indexOf(f._itemIds,baidu.array.find(c,function(k){return k.id!=g}).id);d=baidu.array.indexOf(c,f.getItem(h));e<=h&&h<f.pageSize&&d--;f._renderItems(h,d)}return i},addText:function(c,a){var b=this;b._addText(c,a);b.dispatchEvent("onaddtext",{index:a})},addItem:function(b,a){var c=this;c._addText(b.innerHTML,a);c.dispatchEvent("onadditem",{index:a})},removeItem:function(a){var c=this,b=c._removeItem(a);c.dispatchEvent("onremoveitem",{index:a});return b}});baidu.array.hash=function(e,b){var f={},d=b&&b.length,c=0,a=e.length;for(;c<a;c++){f[e[c]]=(d&&d>c)?b[c]:true}return f};baidu.dom.setStyle=function(c,b,d){var e=baidu.dom,a;c=e.g(c);b=baidu.string.toCamelCase(b);if(a=e._styleFilter){d=a.filter(b,d,"set")}a=e._styleFixer[b];(a&&a.set)?a.set(c,d):(c.style[a||b]=d);return c};baidu.setStyle=baidu.dom.setStyle;baidu.dom.setStyles=function(b,c){b=baidu.dom.g(b);for(var a in c){baidu.dom.setStyle(b,a,c[a])}return b};baidu.setStyles=baidu.dom.setStyles;baidu.dom._styleFilter[baidu.dom._styleFilter.length]={set:function(a,b){if(b.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(a)){b=b+"px"}return b}};baidu.ui.Base.getParent=function(){return this._parent||null};baidu.ui.Base.setParent=function(b){var c=this,a=c._parent;a&&a.dispatchEvent("removechild");if(b.dispatchEvent("appendchild",{child:c})){c._parent=b}};baidu.ui.behavior=baidu.ui.behavior||{};baidu.dom.hasClass=function(c,d){c=baidu.dom.g(c);var b=baidu.string.trim(d).split(/\s+/),a=b.length;d=c.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |\x24)")).test(d)){return false}}return true};baidu.event.getTarget=function(a){return a.target||a.srcElement};(function(){var a=baidu.ui.behavior.statable=function(){var b=this;b.addEventListeners("ondisable,onenable",function(e,c){var d,f;c=c||{};elementId=(c.element||b.getMain()).id;f=c.group;if(e.type=="ondisable"&&!b.getState(elementId,f)["disabled"]){b.removeState("press",elementId,f);b.removeState("hover",elementId,f);b.setState("disabled",elementId,f)}else{if(e.type=="onenable"&&b.getState(elementId,f)["disabled"]){b.removeState("disabled",elementId,f)}}})};a._states={};a._allStates=["hover","press","disabled"];a._allEventsName=["mouseover","mouseout","mousedown","mouseup"];a._eventsHandler={mouseover:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("hover",d,c);return true}},mouseout:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("hover",d,c);b.removeState("press",d,c);return true}},mousedown:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.setState("press",d,c);return true}},mouseup:function(d,c){var b=this;if(!b.getState(d,c)["disabled"]){b.removeState("press",d,c);return true}}};a._getStateHandlerString=function(h,f){var g=this,e=0,b=g._allEventsName.length,c=[],d;if(typeof h=="undefined"){h=f=""}for(;e<b;e++){d=g._allEventsName[e];c[e]="on"+d+'="'+g.getCallRef()+"._fireEvent('"+d+"', '"+h+"', '"+f+"', event)\""}return c.join(" ")};a._fireEvent=function(c,g,b,f){var d=this,h=d.getId(g+b);if(d._eventsHandler[c].call(d,h,g)){d.dispatchEvent(c,{element:h,group:g,key:b,DOMEvent:f})}};a.addState=function(e,b,c){var d=this;d._allStates.push(e);if(b){d._allEventsName.push(b);if(!c){c=function(){return true}}d._eventsHandler[b]=c}};a.getState=function(b,e){var d=this,c;e=e?e+"-":"";b=b?b:d.getId();c=d._states[e+b];return c?c:{}};a.setState=function(e,b,f){var d=this,g,c;f=f?f+"-":"";b=b?b:d.getId();g=f+b;d._states[g]=d._states[g]||{};c=d._states[g][e];if(!c){d._states[g][e]=1;baidu.addClass(b,d.getClass(f+e))}};a.removeState=function(d,b,e){var c=this,f;e=e?e+"-":"";b=b?b:c.getId();f=e+b;if(c._states[f]){c._states[f][d]=0;baidu.removeClass(b,c.getClass(e+d))}}})();baidu.extend(baidu.ui.behavior.statable,{_statableMouseHandler:function(b,c,a,d){this._fireEvent(b,c,a,d)},setStateHandler:function(b,e,a){var d=this,c={};if(typeof a=="undefined"){e=a=""}baidu.array.each(d._allEventsName,function(f){c[f]=baidu.fn.bind("_statableMouseHandler",d,f,e,a);baidu.event.on(b,f,c[f])});d.addEventListener("dispose",function(){baidu.object.each(c,function(g,f){baidu.event.un(b,f,g)})})}});baidu.ui.Table=baidu.ui.createUI(function(a){var b=this;b.data=b.data||[];b._rows=[]});baidu.ui.Table.extend({uiType:"table",tplBody:'<div><table cellpadding="0" cellspacing="0" border="0" id="#{id}" class="#{class}" #{stateHandler}>#{rows}</table></div>',getString:function(){var a=this;return baidu.format(a.tplBody,{id:a.getId(),"class":a.getClass(),rows:a._getRowsString()})},_getRowsString:function(){var d=this,b=0,a=d.data.length,c=[],e;for(;b<a;b++){e=d.getRow(b);if(!e){e=d._rows[b]=d._createRow(d.data[b])}else{e.update(d.data[b])}c.push(e.getString())}while(d._rows.length>d.data.length){d._rows.pop()}return c.join("")},render:function(b){var a=this;if(!b){return}baidu.dom.insertHTML(a.renderMain(b),"beforeEnd",a.getString());a.resizeColumn();a.dispatchEvent("onload")},update:function(a){var b=this;a=a||{};baidu.object.extend(b,a);b.dispatchEvent("beforeupdate");b.getMain().innerHTML=b.getString();b.resizeColumn();b.dispatchEvent("update")},resizeColumn:function(){var a=this,c=[],b=a.getBody().rows[0];if(b&&a.columns){baidu.array.each(a.columns,function(d){if(d.hasOwnProperty("width")){baidu.dom.setStyles(b.cells[d.index],{width:d.width})}})}},_createRow:function(a){a.parent=this;return new baidu.ui.Table.Row(a)},getRow:function(a){var b=this._rows[a];if(b&&!b.disposed){return b}return null},getRowCount:function(){return this._rows.length},_addRow:function(b,a){var c=this,a=baidu.lang.isNumber(a)?a:c.getBody().rows.length,d=c._createRow(b);c.data.splice(a,0,b);c._rows.splice(a,0,d);d.insertTo(a);return d.getId()},addRow:function(b,a){var c=this;c.dispatchEvent("addrow",{rowId:c._addRow(b,a)})},_removeRow:function(a){var b=this,d=b._rows[a],c;if(d){c=d.getId();b.data.splice(a,1);d.remove();b._rows.splice(a,1);0==a&&b.resizeColumn()}return c},removeRow:function(a){var b=this,c=b._removeRow(a);if(c){b.dispatchEvent("removerow",{rowId:c})}},getTarget:function(){var a=this;return baidu.g(a.targetId)||a.getMain()},dispose:function(){var a=this;baidu.dom.remove(a.getId())}});baidu.ui.Table.Row=baidu.ui.createUI(function(a){this._cells={};this.addState("selected")}).extend({uiType:"table-row",statable:true,getMain:function(){return baidu.g(this.getId())},getString:function(){var c=this,d=[],a=c.getClass("col"),b={};d.push("<tr id='",c.getId(),"' class='",c.getClass(),"' data-guid='",c.guid,"' ",c._getStateHandlerString(),">");baidu.array.each(c.content,function(f,e){d.push("<td>",f,"</td>")});d.push("</tr>");return d.join("")},update:function(a){var b=this,c=baidu.dom.children(b.getMain());a=a||{};baidu.object.extend(b,a);baidu.array.each(c,function(e,d){e.innerHTML=b.content[d]});b.dispatchEvent("update")},insertTo:function(b){var c=this,d,a;if(!c.getMain()){d=c.getParent().getBody().insertRow(b);baidu.dom.setAttrs(d,{id:c.getId(),"class":c.getClass(),"data-guid":c.guid});c.setStateHandler(d);baidu.array.each(c.content,function(f,e){a=d.insertCell(e);a.innerHTML=f})}},_getCols:function(){return baidu.dom.children(this.getId())},_getColsString:function(b,a){return colsArr.join("")},select:function(){var a=this,b=a.getMain().id;if(!a.getState(b)["disabled"]){a.setState("selected",b)}},unselect:function(){var a=this;a.removeState("selected",a.getMain().id)},remove:function(){var a=this;a.getParent().getBody().deleteRow(a.getBody().rowIndex);a.dispose()},toggle:function(){var a=this;if(a.getState(a.getMain().id)["selected"]){a.unselect()}else{a.select()}},getCell:function(b){var c=this,d=c._getCols()[b],a;if(d){if(d.id){a=c._cells[d.id]}else{a=new baidu.ui.Table.Cell({target:d});a._initialize(c);c._cells[a.getId()]=a}}d=null;return a},dispose:function(){var a=this;a.dispatchEvent("dispose");baidu.lang.Class.prototype.dispose.call(a)}});baidu.ui.Table.Cell=baidu.ui.createUI(function(a){}).extend({uiType:"table-cell",_initialize:function(b){var a=this;a.setParent(b);baidu.dom.setAttrs(a.target,{id:a.getId(),"data-guid":a.guid})},getMain:function(){return baidu.dom.g(this.getId())},getParent:function(){return this._parent},setParent:function(a){this._parent=a},getHTML:function(){return this.getMain().innerHTML},setHTML:function(c){var b=this,a=b.getParent();a.getParent().data[a.getMain().rowIndex].content[b.getMain().cellIndex]=c;b.getMain().innerHTML=c}});baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.ui.Carousel.register(function(a){if(!a.supportTable){return}a.gridLayout=baidu.object.extend({row:3,col:3},baidu.lang.isArray(a.gridLayout)?baidu.array.hash(["row","col"],a.gridLayout):a.gridLayout);a._dataList=a._formatTableData(a._dataList);a._tables=[];baidu.array.each(a._dataList,function(c,b){a._tables.push(new baidu.ui.Table({data:c}));a._dataList[b]={content:a._tables[b].getString()}})});baidu.ui.Carousel.extend({supportTable:true,_formatTableData:function(f){var e=this,d=e.gridLayout,c=f.length,g=[],a=0,b;for(;a<c;a++){a%(d.row*d.col)==0&&g.push([]);b=g[g.length-1];a%d.col==0&&b.push({content:[]});b[b.length-1].content.push(f[a].content)}return g},addTableItem:function(c,a){var b=this,c=b._formatTableData(c),a=Math.min(Math.max(baidu.lang.isNumber(a)?a:b._dataList.length,0),b._dataList.length);b._tables.splice(a,0,new baidu.ui.Table({data:c[0]}));b._addText(b._tables[a].getString(),a)},removeTableItem:function(a){if(!baidu.lang.isNumber(a)||a<0||a>this._dataList.length-1){return}var b=this;b._tables.splice(a,1);return b._removeItem(a)},getTable:function(a){return this._tables[a]}});